<script>
	import Button from './Button.svelte';

	/**
	 * @typedef {Object} Props
	 * @property {{name: string}} [user] The user object
	 * @property {() => void} [onLogin] The login event handler
	 * @property {() => void} [onLogout] The logout event handler
	 * @property {() => void} [onCreateAccount] The account creation event handler
	 * @property {string} [logo] The logo URL
	 */

	/** @type {Props} */
	const { user, onLogin, onLogout, onCreateAccount, logo } = $props();
</script>

<header>
	<div class="storybook-header">
		<div>
			{#if logo}
				<img src={logo} alt="" width="32" height="32" />
			{:else}
				<svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
					<g fill="none" fill-rule="evenodd">
						<path
							d="M10 0h12a10 10 0 0110 10v12a10 10 0 01-10 10H10A10 10 0 010 22V10A10 10 0 0110 0z"
							fill="#FFF"
						/>
						<path
							d="M5.3 10.6l10.4 6v11.1l-10.4-6v-11zm11.4-6.2l9.7 5.5-9.7 5.6V4.4z"
							fill="#555AB9"
						/>
						<path
							d="M27.2 10.6v11.2l-10.5 6V16.5l10.5-6zM15.7 4.4v11L6 10l9.7-5.5z"
							fill="#91BAF8"
						/>
					</g>
				</svg>
				<!-- <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="100%" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
        <path fill="#6E83F9" opacity="1.000000" stroke="none" d=" M513.000000,81.000000   C513.000000,198.022018 513.000000,315.044037 512.697144,432.196381   C511.958038,432.809875 511.217499,433.243988 511.130585,433.783417   C509.402283,444.507507 504.848785,454.151611 499.771698,463.583740   C493.730774,474.806549 484.936371,483.865906 475.275665,491.767365   C463.385590,501.492218 449.632935,508.057800 434.380157,511.093170   C433.815948,511.205444 433.455414,512.341187 433.000000,513.000000   C315.977997,513.000000 198.955978,513.000000 81.803635,512.697144   C81.190849,511.958160 80.757401,511.217468 80.218681,511.130737   C69.503265,509.405792 59.865959,504.857239 50.440929,499.787140   C39.225014,493.753601 30.124565,485.000366 22.284214,475.305664   C12.633375,463.372284 6.001459,449.626465 2.907110,434.381073   C2.792218,433.815002 1.658787,433.455658 1.000004,433.000000   C1.000000,315.977997 1.000000,198.955978 1.303593,81.802620   C2.042936,81.187889 2.782347,80.753578 2.869580,80.213860   C4.602253,69.493591 9.147220,59.848667 14.228117,50.420277   C20.273729,39.201706 29.041569,30.115511 38.731499,22.248934   C50.645496,12.576795 64.371597,5.953436 79.620827,2.906684   C80.185020,2.793961 80.544907,1.658726 81.000000,1.000000   C198.022018,1.000000 315.044037,1.000000 432.196381,1.302803   C433.140289,2.068053 433.901459,2.760829 434.774994,2.959474   C460.817596,8.881693 481.171295,23.323692 496.299011,44.993938   C503.364075,55.114571 508.207458,66.496483 511.053009,78.627296   C511.262695,79.521248 512.330872,80.213814 513.000000,81.000000  M488.999329,99.602501   C488.703247,96.461540 488.542358,93.300995 488.090424,90.182632   C482.689453,52.917507 450.555939,25.006220 413.061035,25.003149   C309.074066,24.994633 205.087128,24.991386 101.100189,25.036678   C97.458649,25.038263 93.785088,25.362282 90.180878,25.900469   C52.542870,31.520647 25.005039,63.459896 25.002529,101.436249   C24.995676,205.089905 24.990801,308.743561 25.037209,412.397186   C25.038914,416.204895 25.357853,420.046143 25.914818,423.814697   C31.466053,461.375641 63.507484,488.996887 101.448044,488.998505   C205.101700,489.002838 308.755371,489.002930 412.409027,488.998596   C454.824829,488.996826 488.995422,454.887085 488.997955,412.538208   C489.004211,308.551270 488.999969,204.564301 488.999329,99.602501  z"/>
        <path fill="#E9E9FF" opacity="1.000000" stroke="none" d=" M488.999634,100.089920   C488.999969,204.564301 489.004211,308.551270 488.997955,412.538208   C488.995422,454.887085 454.824829,488.996826 412.409027,488.998596   C308.755371,489.002930 205.101700,489.002838 101.448044,488.998505   C63.507484,488.996887 31.466053,461.375641 25.914818,423.814697   C25.357853,420.046143 25.038914,416.204895 25.037209,412.397186   C24.990801,308.743561 24.995676,205.089905 25.002529,101.436249   C25.005039,63.459896 52.542870,31.520647 90.180878,25.900469   C93.785088,25.362282 97.458649,25.038263 101.100189,25.036678   C205.087128,24.991386 309.074066,24.994633 413.061035,25.003149   C450.555939,25.006220 482.689453,52.917507 488.090424,90.182632   C488.542358,93.300995 488.703247,96.461540 488.999634,100.089920  M344.448059,203.031738   C330.261749,190.876022 313.811646,185.078400 295.196747,186.432831   C291.119629,186.729477 288.998230,185.978195 286.626709,182.732895   C253.433716,137.309570 184.567078,135.887619 149.462921,179.758667   C139.128769,192.673660 132.764587,207.201385 130.661697,223.671463   C130.350311,226.110138 128.843811,229.252609 126.889259,230.496063   C99.454140,247.950180 87.228065,272.586121 91.015900,304.985291   C94.728523,336.741150 125.407173,365.663116 157.328201,365.909882   C222.966461,366.417297 288.614441,366.522583 354.251678,365.977417   C391.752899,365.665955 422.647217,334.076843 423.965027,296.502289   C425.254822,259.727417 398.621887,227.610123 362.250916,221.883453   C360.567169,221.618347 358.766571,220.252014 357.595947,218.900162   C353.254059,213.886002 349.153320,208.662979 344.448059,203.031738  z"/>
        <path fill="#6E83F9" opacity="1.000000" stroke="none" d=" M344.705017,203.275070   C349.153320,208.662979 353.254059,213.886002 357.595947,218.900162   C358.766571,220.252014 360.567169,221.618347 362.250916,221.883453   C398.621887,227.610123 425.254822,259.727417 423.965027,296.502289   C422.647217,334.076843 391.752899,365.665955 354.251678,365.977417   C288.614441,366.522583 222.966461,366.417297 157.328201,365.909882   C125.407173,365.663116 94.728523,336.741150 91.015900,304.985291   C87.228065,272.586121 99.454140,247.950180 126.889259,230.496063   C128.843811,229.252609 130.350311,226.110138 130.661697,223.671463   C132.764587,207.201385 139.128769,192.673660 149.462921,179.758667   C184.567078,135.887619 253.433716,137.309570 286.626709,182.732895   C288.998230,185.978195 291.119629,186.729477 295.196747,186.432831   C313.811646,185.078400 330.261749,190.876022 344.705017,203.275070  M176.500275,342.000671   C233.829666,342.000671 291.159210,341.927307 348.488342,342.050690   C363.377563,342.082733 375.694458,337.070282 386.248047,326.393311   C403.484222,308.955597 403.526825,278.749298 386.286224,260.736542   C375.513824,249.481705 362.001617,245.346832 346.966919,245.065842   C343.693176,245.004669 341.906219,244.609573 340.703827,240.828293   C339.163391,235.983887 336.745972,231.045502 333.477661,227.189026   C320.510223,211.888031 304.240509,207.210266 284.978241,213.495712   C277.465820,215.947098 277.458740,215.814529 273.967651,208.905899   C272.725983,206.448761 271.413055,204.011292 269.928253,201.695923   C258.171906,183.363327 241.162094,173.366913 219.660126,172.164261   C199.724945,171.049240 182.900879,178.857834 169.754150,193.854568   C161.208221,203.603073 155.705643,214.950104 155.047211,228.156067   C154.757401,233.968719 154.998413,239.807831 154.998413,245.540176   C128.611649,252.409241 113.710434,272.414886 114.856567,297.605316   C115.620171,314.388275 129.567337,332.958130 146.725327,339.131409   C156.218277,342.546844 165.836899,341.831970 176.500275,342.000671  z"/>
        </svg> -->
			{/if}
			<h1>Arniva Cloud</h1>
		</div>
		<div>
			{#if user}
				<span class="welcome">
					Welcome, <b>{user.name}</b>!
				</span>
				<Button size="small" onClick={onLogout} label="Log out" />
			{:else}
				<Button size="small" onClick={onLogin} label="Log in" />
				<Button primary size="small" onClick={onCreateAccount} label="Sign up" />
			{/if}
		</div>
	</div>
</header>

<style>
	.storybook-header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		border-bottom: 1px solid rgba(0, 0, 0, 0.1);
		padding: 15px 20px;
		font-family: 'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
	}

	.storybook-header svg {
		display: inline-block;
		vertical-align: top;
	}

	.storybook-header h1 {
		display: inline-block;
		vertical-align: top;
		margin: 6px 0 6px 10px;
		font-weight: 700;
		font-size: 20px;
		line-height: 1;
	}

	.storybook-header button + button {
		margin-left: 10px;
	}

	.storybook-header .welcome {
		margin-right: 10px;
		color: #333;
		font-size: 14px;
	}
</style>
